# CS:GO Enhanced Sprays with Graffiti Balloon Animation

## –û–±–∑–æ—Ä (Overview)

–¢–æ–≤–∞ –µ –ø–æ–¥–æ–±—Ä–µ–Ω–∞ –≤–µ—Ä—Å–∏—è –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª–Ω–∏—è SM Franug CSGO Sprays –ø–ª—ä–≥–∏–Ω, –∫–æ—è—Ç–æ –¥–æ–±–∞–≤—è –∫—Ä–∞—Å–∏–≤–∞ –∞–Ω–∏–º–∞—Ü–∏—è —Å ballon4ik –º–æ–¥–µ–ª –ø–æ –≤—Ä–µ–º–µ –Ω–∞ —Å–ø—Ä–µ–π–≤–∞–Ω–µ. –°–∏—Å—Ç–µ–º–∞—Ç–∞ –µ –ø—Ä–æ–µ–∫—Ç–∏—Ä–∞–Ω–∞ –¥–∞ —Ä–∞–±–æ—Ç–∏ –±–µ–∑–ø—Ä–æ–±–ª–µ–º–Ω–æ —Å custom_weapons.sp –ø–ª—ä–≥–∏–Ω–∞.

This is an enhanced version of the original SM Franug CSGO Sprays plugin that adds a beautiful graffiti balloon animation during spraying. The system is designed to work seamlessly with the custom_weapons.sp plugin.

## üéØ –ö–ª—é—á–æ–≤–∏ –û—Å–æ–±–µ–Ω–æ—Å—Ç–∏ (Key Features)

### ‚ú® –ù–æ–≤–∏ —Ñ—É–Ω–∫—Ü–∏–∏ (New Features)
- **–ê–Ω–∏–º–∞—Ü–∏—è –Ω–∞ —Å–ø—Ä–µ–π–≤–∞–Ω–µ**: –í—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–º–µ–Ω—è viewmodel-a —Å graffiti balloon –ø–æ –≤—Ä–µ–º–µ –Ω–∞ —Å–ø—Ä–µ–π–≤–∞–Ω–µ
- **–ë–µ–∑–∫–æ–Ω—Ñ–ª–∏–∫—Ç–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –†–∞–±–æ—Ç–∏ —Å custom_weapons.sp –±–µ–∑ –ø—Ä–æ–±–ª–µ–º–∏
- **–£–º–Ω–æ –≤—ä–∑—Å—Ç–∞–Ω–æ–≤—è–≤–∞–Ω–µ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—ä–∑—Å—Ç–∞–Ω–æ–≤—è–≤–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª–Ω–∏—è weapon model —Å–ª–µ–¥ –∞–Ω–∏–º–∞—Ü–∏—è—Ç–∞
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–∞ —Å–∏—Å—Ç–µ–º–∞**: –ú–æ–∂–µ—Ç–µ –¥–∞ –≤–∫–ª—é—á–∏—Ç–µ/–∏–∑–∫–ª—é—á–∏—Ç–µ –∞–Ω–∏–º–∞—Ü–∏—è—Ç–∞ –ø–æ –∂–µ–ª–∞–Ω–∏–µ

### üîß –û—Ä–∏–≥–∏–Ω–∞–ª–Ω–∏ —Ñ—É–Ω–∫—Ü–∏–∏ (Original Features)
- Spray —Å–∏—Å—Ç–µ–º–∞ –∑–∞ CS:GO
- Cooldown –º–µ–∂–¥—É —Å–ø—Ä–µ–π–æ–≤–µ
- –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∏ —Å–ø—Ä–µ–π–æ–≤–µ –Ω–∞ –∫–∞—Ä—Ç–∞—Ç–∞
- Cookie —Å–∏—Å—Ç–µ–º–∞ –∑–∞ –∑–∞–ø–∞–∑–≤–∞–Ω–µ –Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- USE –∫–ª—é—á –ø–æ–¥–¥—Ä—ä–∂–∫–∞ (E)

## üöÄ –ò–Ω—Å—Ç–∞–ª–∞—Ü–∏—è (Installation)

### 1. –§–∞–π–ª–æ–≤–µ (Files Required)
```
‚îú‚îÄ‚îÄ addons/sourcemod/plugins/
‚îÇ   ‚îî‚îÄ‚îÄ franug_sprays_enhanced.smx
‚îú‚îÄ‚îÄ addons/sourcemod/scripting/
‚îÇ   ‚îî‚îÄ‚îÄ franug_sprays_enhanced.sp
‚îú‚îÄ‚îÄ models/12konsta/graffiti/
‚îÇ   ‚îî‚îÄ‚îÄ v_ballon4ik.mdl
‚îî‚îÄ‚îÄ materials/Models/12konsta/graffiti/
    ‚îú‚îÄ‚îÄ v_ballon4ik.vmt
    ‚îî‚îÄ‚îÄ v_ballon4ik.vtf
```

### 2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (Configuration)
–ü–ª—ä–≥–∏–Ω—ä—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—ä–∑–¥–∞–≤–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–µ–Ω —Ñ–∞–π–ª: `cfg/sourcemod/plugin.franug_sprays_enhanced.cfg`

### 3. ConVars
```cpp
// –û—Ä–∏–≥–∏–Ω–∞–ª–Ω–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
sm_csgosprays_time "30"                    // Cooldown –º–µ–∂–¥—É —Å–ø—Ä–µ–π–æ–≤–µ (—Å–µ–∫—É–Ω–¥–∏)
sm_csgosprays_distance "115"              // –ú–∞–∫—Å–∏–º–∞–ª–Ω–æ —Ä–∞–∑—Å—Ç–æ—è–Ω–∏–µ –¥–æ —Å—Ç–µ–Ω–∞—Ç–∞
sm_csgosprays_use "1"                     // –°–ø—Ä–µ–π–≤–∞–Ω–µ —Å USE –∫–ª—é—á (E)
sm_csgosprays_mapmax "25"                 // –ú–∞–∫—Å–∏–º—É–º —Å–ø—Ä–µ–π–æ–≤–µ –Ω–∞ –∫–∞—Ä—Ç–∞—Ç–∞
sm_csgosprays_reset_time_on_kill "1"     // –ù—É–ª–∏—Ä–∞–Ω–µ –Ω–∞ cooldown –ø—Ä–∏ —É–±–∏–π—Å—Ç–≤–æ
sm_csgosprays_show_messages "1"          // –ü–æ–∫–∞–∑–≤–∞–Ω–µ –Ω–∞ —Å—ä–æ–±—â–µ–Ω–∏—è

// –ù–û–í–ê –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞ –∞–Ω–∏–º–∞—Ü–∏—è
sm_csgosprays_enable_animation "1"       // –í–∫–ª—é—á–≤–∞–Ω–µ/–∏–∑–∫–ª—é—á–≤–∞–Ω–µ –Ω–∞ –∞–Ω–∏–º–∞—Ü–∏—è—Ç–∞
```

## üîÑ –ö–∞–∫ —Ä–∞–±–æ—Ç–∏ —Å–∏—Å—Ç–µ–º–∞—Ç–∞ (How the System Works)

### –°—Ç—ä–ø–∫–∏ –Ω–∞ –∞–Ω–∏–º–∞—Ü–∏—è—Ç–∞ (Animation Steps):

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç**: –ü—Ä–æ–≤–µ—Ä—è–≤–∞ –¥–∞–ª–∏ –≤–µ—á–µ –∏–≥—Ä–∞–µ spray –∞–Ω–∏–º–∞—Ü–∏—è
2. **–ó–∞–ø–∞–∑–≤–∞–Ω–µ –Ω–∞ —Å—ä—Å—Ç–æ—è–Ω–∏–µ**: –ó–∞–ø–∏—Å–≤–∞ —Ç–µ–∫—É—â–∏—è viewmodel, sequence –∏ cycle
3. **–ó–∞–º–µ–Ω—è–Ω–µ –Ω–∞ –º–æ–¥–µ–ª**: –í—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–º–µ–Ω—è —Å graffiti balloon –º–æ–¥–µ–ª–∞
4. **–ü—É—Å–∫–∞–Ω–µ –Ω–∞ –∞–Ω–∏–º–∞—Ü–∏—è**: –°—Ç–∞—Ä—Ç–∏—Ä–∞ "pshh" –∞–Ω–∏–º–∞—Ü–∏–æ–Ω–Ω–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–Ω–æ—Å—Ç
5. **–°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ —Å–ø—Ä–µ–π**: –ü–æ—Å—Ç–∞–≤—è —Å–ø—Ä–µ–π decal-a –Ω–∞ —Å—Ç–µ–Ω–∞—Ç–∞
6. **–í—ä–∑—Å—Ç–∞–Ω–æ–≤—è–≤–∞–Ω–µ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—Ä—ä—â–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª–Ω–∏—è weapon model —Å–ª–µ–¥ 2 —Å–µ–∫—É–Ω–¥–∏

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Custom Weapons:

```cpp
// –ó–∞–ø–∞–∑–≤–∞–Ω–µ –Ω–∞ —Ç–µ–∫—É—â–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ
void StoreCurrentViewModel(int client)
{
    int viewModel = GetEntPropEnt(client, Prop_Send, "m_hViewModel");
    if(viewModel > 0)
    {
        g_iStoredViewModel[client] = GetEntProp(viewModel, Prop_Send, "m_nModelIndex");
        g_iStoredSequence[client] = GetEntProp(viewModel, Prop_Send, "m_nSequence");
        g_fStoredCycle[client] = GetEntPropFloat(viewModel, Prop_Send, "m_flCycle");
    }
}

// –í—ä–∑—Å—Ç–∞–Ω–æ–≤—è–≤–∞–Ω–µ
void RestoreOriginalViewModel(int client)
{
    int viewModel = GetEntPropEnt(client, Prop_Send, "m_hViewModel");
    if(viewModel > 0)
    {
        SetEntProp(viewModel, Prop_Send, "m_nModelIndex", g_iStoredViewModel[client]);
        SetEntProp(viewModel, Prop_Send, "m_nSequence", g_iStoredSequence[client]);
        SetEntPropFloat(viewModel, Prop_Send, "m_flCycle", g_fStoredCycle[client]);
    }
}
```

## üéÆ –ö–æ–º–∞–Ω–¥–∏ (Commands)

- `!spray` / `sm_spray` - –ù–∞–ø—Ä–∞–≤–∏ —Å–ø—Ä–µ–π
- `!sprays` / `sm_sprays` - –ò–∑–±–µ—Ä–∏ —Å–ø—Ä–µ–π –æ—Ç –º–µ–Ω—é—Ç–æ

## ‚ö†Ô∏è –ü—Ä–µ–¥–ø–∞–∑–Ω–∏ –º–µ—Ä–∫–∏ (Safety Measures)

### –ó–∞—â–∏—Ç–∞ –æ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∏:
- –ü—Ä–æ–≤–µ—Ä—è–≤–∞ –¥–∞–ª–∏ –≤–µ—á–µ —Å–µ –∏–∑–ø—ä–ª–Ω—è–≤–∞ spray –∞–Ω–∏–º–∞—Ü–∏—è
- –ü–æ—á–∏—Å—Ç–≤–∞ timer-–∏ –ø—Ä–∏ disconnect/death
- –í—ä–∑—Å—Ç–∞–Ω–æ–≤—è–≤–∞ viewmodel –ø—Ä–∏ –Ω–µ–æ—á–∞–∫–≤–∞–Ω–æ –ø—Ä–µ–∫—ä—Å–≤–∞–Ω–µ

### Memory Management:
```cpp
public void OnClientDisconnect(int client)
{
    // –ü–æ—á–∏—Å—Ç–≤–∞–Ω–µ –Ω–∞ animation timer
    if(g_hAnimTimer[client] != INVALID_HANDLE)
    {
        KillTimer(g_hAnimTimer[client]);
        g_hAnimTimer[client] = INVALID_HANDLE;
    }
    
    // Reset –Ω–∞ animation state
    g_bIsPlayingSprayAnim[client] = false;
    // ... –¥—Ä—É–≥–∏ –ø–æ—á–∏—Å—Ç–≤–∞–Ω–∏—è
}
```

## üîß Troubleshooting

### –ü—Ä–æ–±–ª–µ–º: –ê–Ω–∏–º–∞—Ü–∏—è—Ç–∞ –Ω–µ —Å–µ –ø–æ–∫–∞–∑–≤–∞
**–†–µ—à–µ–Ω–∏–µ**: 
1. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –¥–∞–ª–∏ `sm_csgosprays_enable_animation` –µ "1"
2. –£–≤–µ—Ä–µ—Ç–µ —Å–µ, —á–µ model —Ñ–∞–π–ª–æ–≤–µ—Ç–µ —Å–∞ –∫–∞—á–µ–Ω–∏ –ø—Ä–∞–≤–∏–ª–Ω–æ
3. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –∑–∞ –≥—Ä–µ—à–∫–∏ –≤ –ª–æ–≥–æ–≤–µ—Ç–µ

### –ü—Ä–æ–±–ª–µ–º: –ö–æ–Ω—Ñ–ª–∏–∫—Ç —Å custom_weapons.sp
**–†–µ—à–µ–Ω–∏–µ**: 
1. –°–∏—Å—Ç–µ–º–∞—Ç–∞ –µ –ø—Ä–æ–µ–∫—Ç–∏—Ä–∞–Ω–∞ –¥–∞ —Ä–∞–±–æ—Ç–∏ –±–µ–∑–ø—Ä–æ–±–ª–µ–º–Ω–æ
2. –ê–∫–æ –∏–º–∞ –ø—Ä–æ–±–ª–µ–º–∏, –∏–∑–∫–ª—é—á–µ—Ç–µ –∞–Ω–∏–º–∞—Ü–∏—è—Ç–∞: `sm_csgosprays_enable_animation 0`

### –ü—Ä–æ–±–ª–µ–º: Viewmodel –Ω–µ —Å–µ –≤—ä–∑—Å—Ç–∞–Ω–æ–≤—è–≤–∞
**–†–µ—à–µ–Ω–∏–µ**: 
1. –ü–ª—ä–≥–∏–Ω—ä—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–æ—á–∏—Å—Ç–≤–∞ –ø—Ä–∏ disconnect/death
2. –†–µ—Å—Ç–∞—Ä—Ç–∏—Ä–∞–π—Ç–µ —Å—ä—Ä–≤—ä—Ä–∞ –ø—Ä–∏ —Å–µ—Ä–∏–æ–∑–Ω–∏ –ø—Ä–æ–±–ª–µ–º–∏

## üìà Performance Impact

- **–ú–∏–Ω–∏–º–∞–ª–µ–Ω impact**: –°–∏—Å—Ç–µ–º–∞—Ç–∞ –∏–∑–ø–æ–ª–∑–≤–∞ —Å–∞–º–æ viewmodel –ø—Ä–æ–º–µ–Ω–∏
- **Memory efficient**: –ü–æ—á–∏—Å—Ç–≤–∞ –≤—Å–∏—á–∫–∏ timer-–∏ –∏ —Å—ä—Å—Ç–æ—è–Ω–∏—è
- **Network optimized**: –ò–∑–ø–æ–ª–∑–≤–∞ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞—â–∏ SourceMod —Ñ—É–Ω–∫—Ü–∏–∏

## üîÑ Migration –æ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª–µ–Ω

–ó–∞ –¥–∞ –º–∏–≥—Ä–∏—Ä–∞—Ç–µ –æ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª–Ω–∏—è franug sprays:

1. –ó–∞–º–µ–Ω–µ—Ç–µ —Å—Ç–∞—Ä–∏—è .sp —Ñ–∞–π–ª —Å –Ω–æ–≤–∏—è
2. –ö–æ–º–ø–∏–ª–∏—Ä–∞–π—Ç–µ –Ω–æ–≤–∏—è –ø–ª—ä–≥–∏–Ω  
3. –î–æ–±–∞–≤–µ—Ç–µ model —Ñ–∞–π–ª–æ–≤–µ—Ç–µ
4. –†–µ—Å—Ç–∞—Ä—Ç–∏—Ä–∞–π—Ç–µ —Å—ä—Ä–≤—ä—Ä–∞
5. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ `sm_csgosprays_enable_animation` –ø–æ –∂–µ–ª–∞–Ω–∏–µ

## üìù Changelog

### v1.5.0
- ‚ûï –î–æ–±–∞–≤–µ–Ω–∞ graffiti balloon –∞–Ω–∏–º–∞—Ü–∏—è
- ‚ûï –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å custom_weapons.sp
- ‚ûï –ù–æ–≤–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–∞ –æ–ø—Ü–∏—è –∑–∞ –∞–Ω–∏–º–∞—Ü–∏—è
- ‚ö° –ü–æ–¥–æ–±—Ä–µ–Ω–æ memory management
- üîß –ó–∞—â–∏—Ç–∞ –æ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∏

### v1.4.5 (Original)
- –û—Ä–∏–≥–∏–Ω–∞–ª–µ–Ω —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç –Ω–∞ Franc1sco

---

**–ê–≤—Ç–æ—Ä –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª–∞**: Franc1sco  
**Enhanced by**: Assistant  
**–í–µ—Ä—Å–∏—è**: 1.5.0  
**–°—ä–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç**: CS:GO, SourceMod 1.8+